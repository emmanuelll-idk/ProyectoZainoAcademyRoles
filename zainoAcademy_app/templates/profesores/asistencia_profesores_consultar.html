{% extends "profesores/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/profesores/asistencia_profesores_consultar.css' %}">
{% endblock %}

{% block mockUp %}
    <header class="header">
      <h1 class="page-title">Asistencia - {{ boletin.Cur.Cur_nombre }} / {{ boletin.Mtr.Mtr_nombre }}</h1>
    </header>

    <!-- Tabla con scroll horizontal -->
    <div class="asistencia-table-wrapper">
  <table class="asistencia-table">
    <thead>
      <tr>
        <th>Nº</th>
        <th>Estudiante</th>
        {% for fecha in fechas %}
          <th>{{ fecha|date:"d/m/Y" }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for fila in tabla_asistencias %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ fila.estudiante }}</td>
        {% for datos in fila.fechas %}
          <td>
            {% if datos %}
              {{ datos.estado }}
            {% else %}
              —
            {% endif %}
          </td>
        {% endfor %}
      </tr>
      {% empty %}
      <tr>
        <td colspan="{{ fechas|length|add:2 }}">No hay asistencias registradas.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>


    <div class="acciones">
      <a href="{% url 'asistencia_profesores_consultar' boletin.Bol_id %}" class="volver-btn">Volver</a>
      <a href="{% url 'asistencia_profesores_añadir' boletin.Bol_id %}" class="añadir-btn">Añadir asistencia</a>
    </div>
  </main>
{% endblock %}