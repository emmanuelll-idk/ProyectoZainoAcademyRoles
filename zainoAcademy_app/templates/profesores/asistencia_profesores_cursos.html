{% extends "profesores/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/profesores/asistencia_profesores_cursos.css' %}">
{% endblock %}

{% block page_title %}Lista de Cursos{% endblock %}

{% block mockUp %}

<div class="contenedor-actividad">
    <h2 class="subtitulo">Seleccione Periodo:</h2>
    <hr class="linea">


    <div class="periodos-container"></div>
        {% if periodos %}
            <div class="periodos-container">
                {% for periodo in periodos %}
                    <div class="periodo-card" onclick="selectPeriodo(this)" data-url="{% url 'asistencia_profesores_cursos_periodo' periodo.Per_id %}">
                      <h3 class="periodo-name">{{ periodo.Per_nombre }}</h3>
                </div>
            {% endfor %}
        </div>

        <div class="contenedor-continuar">
            <button class="btn-continuar" id="continuar-btn" disabled>Continuar</button>
        </div>
    {% else %}
        <p>No hay periodos disponibles</p>
    {% endif %}
</div>

<script>
let selectedPeriodoUrl = null;

function selectPeriodo(cardEl) {
    document.querySelectorAll('.periodo-card').forEach(c => c.classList.remove('selected'));
    cardEl.classList.add('selected');
    selectedPeriodoUrl = cardEl.dataset.url;

    const btn = document.getElementById('continuar-btn');
    if (selectedPeriodoUrl) {
        btn.disabled = false;
        btn.classList.add('enabled');
    } else {
        btn.disabled = true;
        btn.classList.remove('enabled');
    }
}

document.addEventListener('DOMContentLoaded', function() {
    const btn = document.getElementById('continuar-btn');
    btn.addEventListener('click', function() {
        if (selectedPeriodoUrl) window.location.href = selectedPeriodoUrl;
    });
});
</script>
{% endblock %}

