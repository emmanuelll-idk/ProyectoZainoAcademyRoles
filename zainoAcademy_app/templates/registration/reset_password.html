{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuperar Contraseña - Zaino Academy</title>
    <link rel="stylesheet" href="{% static 'css/registration/registration.css' %}">
</head>
<body class="login-page">
    <div class="login-wrapper">

        <div class="login-left">

            <div class="login-logo">
                <a href="{% url 'home' %}" class="logo-button">
                    <img src="{% static 'images/registration/LogoNormal-removebg-preview.png' %}" 
                        alt="Logo Zaino Academy">
                </a>
            </div>

            <div class="login-card">
                <h1><b>Recuperar <span>Contraseña</span></b></h1>

                {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="message {{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                </div>
                {% endif %}

                {% if exito %}
                <div class="messages">
                    <div class="message success">
                        Contraseña actualizada correctamente!
                    </div>
                    <div style="text-align:center; margin-top:15px;">
                        <a href="{% url 'login' %}" class="btn-login" style="width:auto; padding:10px 20px;">Volver al login</a>
                    </div>
                </div>
                {% else %}
                <form method="POST" class="login-form">
                    {% csrf_token %}

                    <div class="form-group">
                        <label for="correo"><b>Correo</b></label><br>
                        <input type="email" name="correo" id="correo" required placeholder="Tu correo" class="form-control"><br><br><br>

                    </div>

                    <div class="form-group">
                        <label for="documento"><b>Documento de identidad</b></label><br>
                        <input type="text" name="documento" id="documento" required placeholder="Tu documento" class="form-control"><br><br><br>
                    </div>

                    <div class="form-group password-wrapper">
                        <label for="new_password"><b>Nueva contraseña</b></label><br>
                        <input type="password" name="new_password" id="new_password" required placeholder="•••••••" class="form-control">
                        <span class="toggle-password" onclick="togglePassword('new_password')">(•)</span>
                    </div><br>

                    <div class="form-group password-wrapper">
                        <label for="confirm_password"><b>Confirmar contraseña</b></label><br>
                        <input type="password" name="confirm_password" id="confirm_password" required placeholder="•••••••" class="form-control">
                        <span class="toggle-password" onclick="togglePassword('confirm_password')">(•)</span>
                    </div><br>

                    <button type="submit" class="btn-login"><b>Cambiar contraseña</b></button> 
                    <br>
                    <small><a href="{% url 'login' %}"><b class="volver">Volver al login</b></a></small>
                </form>
                {% endif %}
            </div>
        </div>

        <div class="login-decor">
            <img src="{% static 'images/registration/figuras.png' %}" alt="Decoración figuras">
        </div>
    </div>
</body>

<script>
function togglePassword(id) {
    const input = document.getElementById(id);
    input.type = input.type === "password" ? "text" : "password";
}
</script>

</html>
